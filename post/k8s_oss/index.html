<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contribution - Morgoth</title>
    <meta name="description" content="">
    
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: #fff;
            padding: 1rem 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 2rem;
        }
        nav {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        nav a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
        }
        nav a:hover {
            color: #007acc;
        }
        .site-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #007acc;
        }
        main {
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .post-meta {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        .post-content h1, .post-content h2, .post-content h3 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .post-list {
            list-style: none;
            padding: 0;
        }
        .post-list li {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        .post-list h2 {
            margin: 0 0 0.5rem 0;
        }
        .post-list h2 a {
            text-decoration: none;
            color: #333;
        }
        .post-list h2 a:hover {
            color: #007acc;
        }
        footer {
            text-align: center;
            padding: 2rem 0;
            color: #666;
            border-top: 1px solid #ddd;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="https://canuxcheng.com/" class="site-title">Morgoth</a>
                
                    <a href="/">Home</a>
                
                    <a href="/about/">About</a>
                
                    <a href="/categories/">Categories</a>
                
                    <a href="/tags/">Tags</a>
                
                    <a href="/rtfm/">RTFM</a>
                
                    <a href="/samuel/">Samuel</a>
                
            </nav>
        </div>
    </header>
    
    <div class="container">
        <main>
            
<div class="single-post">
    <article>
        <header>
            <h1>Contribution</h1>
            <div class="post-meta">
                <time>January 10, 2020</time>
                
                    
                        <span class="category">CNCF</span>
                    
                
                
                    
                        <span class="tag">#oss</span>
                    
                
            </div>
        </header>
        
        <div class="post-content">
            <h1 id="kubernetes-contribution">Kubernetes Contribution</h1>
<p><a href="https://github.com/kubernetes/community/blob/master/contributors/guide/contributor-cheatsheet/README-zh.md">https://github.com/kubernetes/community/blob/master/contributors/guide/contributor-cheatsheet/README-zh.md</a></p>
<h2 id="创建google账号">创建google账号</h2>
<p>推荐申请一个google邮箱。</p>
<p>在开发机配置git</p>
<pre><code>$ git config --global user.email name@gmail.com   
$ git config user.email name@gmail.com            
</code></pre>
<h2 id="签cla并阅读coc">签CLA并阅读CoC</h2>
<p>个人开发者需要签署CLA, 选择individual contributors并用github账号登陆，然后去邮箱授权；之后重新进入，再去邮箱签字。</p>
<p><a href="https://identity.linuxfoundation.org/projects/cncf">https://identity.linuxfoundation.org/projects/cncf</a></p>
<p>读一下CoC和CV</p>
<p><a href="https://github.com/cncf/foundation/blob/master/code-of-conduct-languages/zh.md">https://github.com/cncf/foundation/blob/master/code-of-conduct-languages/zh.md</a></p>
<p><a href="https://github.com/kubernetes/community/blob/master/values.md">https://github.com/kubernetes/community/blob/master/values.md</a></p>
<h2 id="配置开发环境">配置开发环境</h2>
<p><a href="https://github.com/kubernetes/community/blob/master/contributors/devel/README.md#setting-up-your-dev-environment-coding-and-debugging">https://github.com/kubernetes/community/blob/master/contributors/devel/README.md#setting-up-your-dev-environment-coding-and-debugging</a></p>
<p>可以在docker里面编译，也可以直接在操作系统上编译。</p>
<p>在docker里面编译</p>
<p><a href="https://github.com/kubernetes/kubernetes/blob/ae9ca48f01ddb03731e7903cfe91ef3db9ce8990/build/README.md">https://github.com/kubernetes/kubernetes/blob/ae9ca48f01ddb03731e7903cfe91ef3db9ce8990/build/README.md</a></p>
<pre><code>build/run.sh make 只编译linux平台
build/run.sh make cross 编译所有平台
build/run.sh make kubectl KUBE_BUILD_PLATFORMS=darwin/amd64 编译指定平台的指定组件

build/run.sh make test 单元测试
build/run.sh make test-integration 集成测试
build/run.sh make test-cmd  命令行测试

build/copy-output.sh 将编译的binary从_output/dockerized/bin拷贝到本地

build/make-clean.sh 清空_output

build.shell.sh 交互模式进入编译的container

build/release.sh 编译，测试，打包，kubernetes.tar.gz
...
</code></pre>
<p>在操作系统上编译</p>
<p><a href="https://github.com/kubernetes/community/blob/master/contributors/devel/development.md#building-kubernetes-on-a-local-osshell-environment">https://github.com/kubernetes/community/blob/master/contributors/devel/development.md#building-kubernetes-on-a-local-osshell-environment</a></p>
<p>安装依赖</p>
<pre><code>sudo apt-get update
sudo apt-get install build-essential
// apt: docker, rsync, jq, go, 
// python: pyyaml,

// 安装etcd用于集成测试
./hack/install-etcd.sh
export PATH=&quot;$GOPATH/src/k8s.io/kubernetes/third_party/etcd:${PATH}&quot;
</code></pre>
<p>编译和测试</p>
<pre><code>make all  全部编译
make WHAT=cmd/kubectl  指定编译组件
make cross 编译所有平台
make cross KUBE_BUILD_PLATFORMS=windows/amd64 编译指定平台

make verify  presubmission verification测试
make test  单元测试
make test-integration  集成测试依赖etcd
</code></pre>
<p><a href="https://github.com/kubernetes/test-infra">https://github.com/kubernetes/test-infra</a></p>
<h2 id="了解社区">了解社区</h2>
<p><a href="https://github.com/kubernetes/community">https://github.com/kubernetes/community</a></p>
<p>因为项目组件很多，所以通过特别兴趣小组来分类。</p>
<ul>
<li>SIG: Special Interest Groups</li>
<li>WG: Working Group</li>
<li>UG: User Group</li>
</ul>
<p>KEP: Kubernetes Enhancement Proposal</p>
<p>对于功能和API的修改需要在KEP提交议案讨论。</p>
<p><a href="https://github.com/kubernetes/enhancements">https://github.com/kubernetes/enhancements</a></p>
<p><a href="http://slack.k8s.io/">http://slack.k8s.io/</a></p>
<p><a href="https://discuss.kubernetes.io/">https://discuss.kubernetes.io/</a></p>
<h2 id="选取修改的cl">选取修改的CL</h2>
<p>从github选取一个Issue进行修改。</p>
<p>推荐新手从“good first issue&quot; 开始。</p>
<p>也可以通过sig或者kind标签过滤。</p>
<p><a href="https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">https://github.com/kubernetes/kubernetes/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22</a></p>
<h2 id="提交patch">提交patch</h2>
<p>github用户直接fork到自己账号，clone下来即可。</p>
<pre><code>git clone https://github.com/kubernetes/kubernetes.git
</code></pre>
<p>创建开发分支并修改代码</p>
<pre><code>git checkout -b canux_dev
...
git add -A
git commit -m &quot;...&quot;
git push ...
</code></pre>
<h2 id="code-review">code review</h2>
<p>提交之后trybots会自动构建，可以通过build dashboard查看各个平台build结果:</p>
<p><a href="https://build.golang.org/">https://build.golang.org/</a></p>
<p>查看自己的patch的review情况：</p>
<p><a href="https://go-review.googlesource.com/dashboard/self">https://go-review.googlesource.com/dashboard/self</a></p>
<p>显示随时间变化的历史测试结果：</p>
<p><a href="https://testgrid.k8s.io/">https://testgrid.k8s.io/</a></p>
<p>显示pow中的自动化测试情况：</p>
<p><a href="https://prow.k8s.io/">https://prow.k8s.io/</a></p>
<p>查看所有PR:</p>
<p><a href="https://gubernator.k8s.io/pr/all">https://gubernator.k8s.io/pr/all</a></p>
<p>把相似的失败聚合在一起以便排除故障:</p>
<p><a href="https://storage.googleapis.com/k8s-triage/index.html">https://storage.googleapis.com/k8s-triage/index.html</a></p>

        </div>
    </article>
</div>

        </main>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Morgoth. Designed by Canux</p>
        </div>
    </footer>
</body>
</html>
