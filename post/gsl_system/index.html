<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='os æä¾›äº†æ“ä½œç³»ç»Ÿçš„ä¸ä¾èµ–å¹³å°çš„æ¥å£
import &quot;os&quot; constants # flag å‚æ•° const ( O_RDONLY int = syscall.O_RDONLY O_WRONLY int = syscall.O_WRONLY O_RDWR int = syscall.O_RDWR O_CREATE int = syscall.O_CREATE # ä¸å­˜åœ¨å°±åˆ›å»º O_APPEND int = syscall.O_APPEND # è¿½åŠ å†™å…¥ O_TRUNC int = syscall.O_TRUNC # æ‰“å¼€æ—¶æ¸…ç©ºæ–‡ä»¶ O_EXCL int = syscall.O_EXCL O_SYNC int = syscall.O_SYNC ) const ( SEEK_SET int = 0 SEEK_CUR int = 1 SEEK_END int = 2 ) const ( // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è·¯å¾„åˆ†éš”ç¬¦ PathSeperator = &#39;/&#39; // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è¡¨åˆ†éš”ç¬¦ PathListSeparator = &#39;:&#39; ) // æ“ä½œç³»ç»Ÿç©ºè®¾å¤‡çš„åå­— const DevNull = &quot;/dev/null&quot; variables var ( ErrInvalid = errors.New(&quot;invalid argument&quot;) ... ) // æŒ‡å‘æ ‡å‡†è¾“å…¥ï¼è¾“å‡ºï¼é”™è¯¯çš„æ–‡ä»¶æè¿°ç¬¦ var ( Stdin = NewFile(uintptr(syscall.Stdin), &quot;/dev/stdin&quot;) Stdout = NewFile(uintptr(syscall.Stdout), &quot;/dev/stdout&quot;) Stderr = NewFile(uintptr(syscall.Stderr), &quot;/dev/stderr&quot;) ) // ä¿å­˜äº†å‘½ä»¤è¡Œå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¨‹åºå var Args []string functions // è¿”å›å†…æ ¸æä¾›çš„ä¸»æœºå func Hostname() (name string, err error) // å½“å‰ç¨‹åºä»¥ç»™å‡ºçš„çŠ¶æ€ç é©¬ä¸Šé€€å‡ºï¼Œdeferä¸ä¼šæ‰§è¡Œ func Exit(code int) // è¿”å›key=valueæ ¼å¼çš„ç¯å¢ƒå˜é‡çš„å­—ç¬¦ä¸²çš„åˆ‡ç‰‡æ‹·è´ func Environ() []string æ–‡ä»¶ç›¸å…³çš„æ“ä½œ
'>
<title>GSL_system</title>

<link rel='canonical' href='https://canuxcheng.com/post/gsl_system/'>

<link rel="stylesheet" href="/scss/style.min.2d59822570c0be136f2ad87c952ef8788ac2a951067adda1c49b253bff7d0292.css"><meta property='og:title' content='GSL_system'>
<meta property='og:description' content='os æä¾›äº†æ“ä½œç³»ç»Ÿçš„ä¸ä¾èµ–å¹³å°çš„æ¥å£
import &quot;os&quot; constants # flag å‚æ•° const ( O_RDONLY int = syscall.O_RDONLY O_WRONLY int = syscall.O_WRONLY O_RDWR int = syscall.O_RDWR O_CREATE int = syscall.O_CREATE # ä¸å­˜åœ¨å°±åˆ›å»º O_APPEND int = syscall.O_APPEND # è¿½åŠ å†™å…¥ O_TRUNC int = syscall.O_TRUNC # æ‰“å¼€æ—¶æ¸…ç©ºæ–‡ä»¶ O_EXCL int = syscall.O_EXCL O_SYNC int = syscall.O_SYNC ) const ( SEEK_SET int = 0 SEEK_CUR int = 1 SEEK_END int = 2 ) const ( // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è·¯å¾„åˆ†éš”ç¬¦ PathSeperator = &#39;/&#39; // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è¡¨åˆ†éš”ç¬¦ PathListSeparator = &#39;:&#39; ) // æ“ä½œç³»ç»Ÿç©ºè®¾å¤‡çš„åå­— const DevNull = &quot;/dev/null&quot; variables var ( ErrInvalid = errors.New(&quot;invalid argument&quot;) ... ) // æŒ‡å‘æ ‡å‡†è¾“å…¥ï¼è¾“å‡ºï¼é”™è¯¯çš„æ–‡ä»¶æè¿°ç¬¦ var ( Stdin = NewFile(uintptr(syscall.Stdin), &quot;/dev/stdin&quot;) Stdout = NewFile(uintptr(syscall.Stdout), &quot;/dev/stdout&quot;) Stderr = NewFile(uintptr(syscall.Stderr), &quot;/dev/stderr&quot;) ) // ä¿å­˜äº†å‘½ä»¤è¡Œå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¨‹åºå var Args []string functions // è¿”å›å†…æ ¸æä¾›çš„ä¸»æœºå func Hostname() (name string, err error) // å½“å‰ç¨‹åºä»¥ç»™å‡ºçš„çŠ¶æ€ç é©¬ä¸Šé€€å‡ºï¼Œdeferä¸ä¼šæ‰§è¡Œ func Exit(code int) // è¿”å›key=valueæ ¼å¼çš„ç¯å¢ƒå˜é‡çš„å­—ç¬¦ä¸²çš„åˆ‡ç‰‡æ‹·è´ func Environ() []string æ–‡ä»¶ç›¸å…³çš„æ“ä½œ
'>
<meta property='og:url' content='https://canuxcheng.com/post/gsl_system/'>
<meta property='og:site_name' content='Morgoth'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='system' /><meta property='article:published_time' content='2018-01-01T10:49:21&#43;00:00'/><meta property='article:modified_time' content='2018-01-01T10:49:21&#43;00:00'/>
<meta name="twitter:title" content="GSL_system">
<meta name="twitter:description" content="os æä¾›äº†æ“ä½œç³»ç»Ÿçš„ä¸ä¾èµ–å¹³å°çš„æ¥å£
import &quot;os&quot; constants # flag å‚æ•° const ( O_RDONLY int = syscall.O_RDONLY O_WRONLY int = syscall.O_WRONLY O_RDWR int = syscall.O_RDWR O_CREATE int = syscall.O_CREATE # ä¸å­˜åœ¨å°±åˆ›å»º O_APPEND int = syscall.O_APPEND # è¿½åŠ å†™å…¥ O_TRUNC int = syscall.O_TRUNC # æ‰“å¼€æ—¶æ¸…ç©ºæ–‡ä»¶ O_EXCL int = syscall.O_EXCL O_SYNC int = syscall.O_SYNC ) const ( SEEK_SET int = 0 SEEK_CUR int = 1 SEEK_END int = 2 ) const ( // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è·¯å¾„åˆ†éš”ç¬¦ PathSeperator = &#39;/&#39; // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è¡¨åˆ†éš”ç¬¦ PathListSeparator = &#39;:&#39; ) // æ“ä½œç³»ç»Ÿç©ºè®¾å¤‡çš„åå­— const DevNull = &quot;/dev/null&quot; variables var ( ErrInvalid = errors.New(&quot;invalid argument&quot;) ... ) // æŒ‡å‘æ ‡å‡†è¾“å…¥ï¼è¾“å‡ºï¼é”™è¯¯çš„æ–‡ä»¶æè¿°ç¬¦ var ( Stdin = NewFile(uintptr(syscall.Stdin), &quot;/dev/stdin&quot;) Stdout = NewFile(uintptr(syscall.Stdout), &quot;/dev/stdout&quot;) Stderr = NewFile(uintptr(syscall.Stderr), &quot;/dev/stderr&quot;) ) // ä¿å­˜äº†å‘½ä»¤è¡Œå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¨‹åºå var Args []string functions // è¿”å›å†…æ ¸æä¾›çš„ä¸»æœºå func Hostname() (name string, err error) // å½“å‰ç¨‹åºä»¥ç»™å‡ºçš„çŠ¶æ€ç é©¬ä¸Šé€€å‡ºï¼Œdeferä¸ä¼šæ‰§è¡Œ func Exit(code int) // è¿”å›key=valueæ ¼å¼çš„ç¯å¢ƒå˜é‡çš„å­—ç¬¦ä¸²çš„åˆ‡ç‰‡æ‹·è´ func Environ() []string æ–‡ä»¶ç›¸å…³çš„æ“ä½œ
">
    <link rel="shortcut icon" href="favicon.ico" />
<style>
    :root {
        --article-font-family: "Merriweather", var(--base-font-family);
    }
</style>

<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap";
    
        customFont.type = "text/css";
        customFont.rel = "stylesheet";
    
        document.head.appendChild(customFont);
    }());
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/home_hu_ee27fe234e3b32c2.jpg" width="300"
                            height="400" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Morgoth</a></h1>
            <h2 class="site-description">Hello World!</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='mailto:canuxcheng@163.com'
                        target="_blank"
                        title="E-mail"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10" />
  <path d="M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/crazy-canux'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/' target="_blank">
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>Categories</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags/' target="_blank">
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



                
                <span>Tags</span>
            </a>
        </li>
        
        
        <li >
            <a href='/rtfm/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                
                <span>RTFM</span>
            </a>
        </li>
        
        
        <li >
            <a href='/samuel/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M9.828 9.172a4 4 0 1 0 0 5.656 a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828 a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828" />
</svg>



                
                <span>Samuel</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://canuxcheng.com/" selected></option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#constants">constants</a></li>
    <li><a href="#variables">variables</a></li>
    <li><a href="#functions">functions</a></li>
    <li><a href="#signal">Signal</a></li>
    <li><a href="#filemode">FileMode</a></li>
    <li><a href="#fileinfo">FileInfo</a></li>
    <li><a href="#file">File</a></li>
    <li><a href="#process">Process</a></li>
    <li><a href="#processstate">ProcessState</a></li>
    <li><a href="#procattr">ProcAttr</a></li>
  </ul>

  <ul>
    <li><a href="#variable">variable</a></li>
    <li><a href="#functions-1">functions</a></li>
    <li><a href="#cmd">Cmd</a></li>
  </ul>

  <ul>
    <li><a href="#constants-1">constants</a></li>
    <li><a href="#variables-1">variables</a></li>
    <li><a href="#others">others</a></li>
  </ul>

  <ul>
    <li><a href="#variables-2">variables</a></li>
    <li><a href="#functions-2">functions</a></li>
    <li><a href="#reader">Reader</a></li>
    <li><a href="#writer">Writer</a></li>
    <li><a href="#closer">Closer</a></li>
    <li><a href="#seeker">Seeker</a></li>
    <li><a href="#readwriter">ReadWriter</a></li>
  </ul>

  <ul>
    <li><a href="#constants-2">constants</a></li>
    <li><a href="#variables-3">variables</a></li>
    <li><a href="#functions-3">functions</a></li>
    <li><a href="#reader-1">Reader</a></li>
    <li><a href="#writer-1">Writer</a></li>
    <li><a href="#readwriter-1">ReadWriter</a></li>
    <li><a href="#scanner">Scanner</a></li>
    <li><a href="#splitfunc">SplitFunc</a></li>
  </ul>

  <ul>
    <li><a href="#functions-4">functions</a></li>
    <li><a href="#stringer">Stringer</a></li>
    <li><a href="#gostringer">GoStringer</a></li>
    <li><a href="#state">State</a></li>
    <li><a href="#formatter">Formatter</a></li>
    <li><a href="#scanstate">ScanState</a></li>
    <li><a href="#scanner-1">Scanner</a></li>
  </ul>

  <ul>
    <li><a href="#constants-3">Constants</a></li>
    <li><a href="#functions-5">functions</a></li>
    <li><a href="#logger">Logger</a></li>
  </ul>

  <ul>
    <li><a href="#variables-4">variables</a></li>
    <li><a href="#functions-6">functions</a></li>
    <li><a href="#errorhandling">ErrorHandling</a></li>
    <li><a href="#flag-1">Flag</a></li>
    <li><a href="#flagset">FlagSet</a></li>
    <li><a href="#value">Value</a></li>
    <li><a href="#getter">Getter</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/golang/" >
                Golang
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/gsl_system/">GSL_system</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jan 01, 2018</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    10 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="os">os</h1>
<p>æä¾›äº†æ“ä½œç³»ç»Ÿçš„ä¸ä¾èµ–å¹³å°çš„æ¥å£</p>
<pre><code>import &quot;os&quot;
</code></pre>
<h2 id="constants">constants</h2>
<pre><code># flag å‚æ•°
const (
    O_RDONLY int = syscall.O_RDONLY
    O_WRONLY int = syscall.O_WRONLY
    O_RDWR int = syscall.O_RDWR
    O_CREATE int = syscall.O_CREATE # ä¸å­˜åœ¨å°±åˆ›å»º
    O_APPEND int = syscall.O_APPEND # è¿½åŠ å†™å…¥
    O_TRUNC int = syscall.O_TRUNC # æ‰“å¼€æ—¶æ¸…ç©ºæ–‡ä»¶
    O_EXCL int = syscall.O_EXCL
    O_SYNC int = syscall.O_SYNC
)

const (
    SEEK_SET int = 0
    SEEK_CUR int = 1
    SEEK_END int = 2
)

const (
    // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è·¯å¾„åˆ†éš”ç¬¦
    PathSeperator = '/'
    // æ“ä½œç³»ç»ŸæŒ‡å®šçš„è¡¨åˆ†éš”ç¬¦
    PathListSeparator = ':'
)

// æ“ä½œç³»ç»Ÿç©ºè®¾å¤‡çš„åå­—
const DevNull = &quot;/dev/null&quot;
</code></pre>
<h2 id="variables">variables</h2>
<pre><code>var (
    ErrInvalid = errors.New(&quot;invalid argument&quot;)
    ...
)

// æŒ‡å‘æ ‡å‡†è¾“å…¥ï¼è¾“å‡ºï¼é”™è¯¯çš„æ–‡ä»¶æè¿°ç¬¦
var (
    Stdin = NewFile(uintptr(syscall.Stdin), &quot;/dev/stdin&quot;)
    Stdout = NewFile(uintptr(syscall.Stdout), &quot;/dev/stdout&quot;)
    Stderr = NewFile(uintptr(syscall.Stderr), &quot;/dev/stderr&quot;)
)

// ä¿å­˜äº†å‘½ä»¤è¡Œå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¨‹åºå
var Args []string
</code></pre>
<h2 id="functions">functions</h2>
<pre><code>// è¿”å›å†…æ ¸æä¾›çš„ä¸»æœºå
func Hostname() (name string, err error)

// å½“å‰ç¨‹åºä»¥ç»™å‡ºçš„çŠ¶æ€ç é©¬ä¸Šé€€å‡ºï¼Œdeferä¸ä¼šæ‰§è¡Œ
func Exit(code int)

// è¿”å›key=valueæ ¼å¼çš„ç¯å¢ƒå˜é‡çš„å­—ç¬¦ä¸²çš„åˆ‡ç‰‡æ‹·è´
func Environ() []string
</code></pre>
<p>æ–‡ä»¶ç›¸å…³çš„æ“ä½œ</p>
<pre><code>func IsExist(err error) bool // æ–‡ä»¶å­˜åœ¨è¿”å›true
func IsNotExist(err error) bool // æ–‡ä»¶ä¸å­˜åœ¨è¿”å›true

func IsPathSeparator(c uint8) bool
...
func SameFile(fi1, fi2 FileInfo) bool
func Getwd() (dir string, err error)
func Chdir(dir string) error
func Chmod(name string, mode FileMode) error
func Chown(name string, uid, gid int) error
...
func Mkdir(name string, perm FileMode) error // åˆ›å»ºå•ä¸ªç›®å½•
func MkdirAll(path string, perm FileMode) error // åˆ›å»ºå¤šçº§ç›®å½•
func Rename(oldpath, newpath string) error
func Truncate(name string, size int64) error
func Remove(name string) error
func RemoveAll(path string) error
func Readlink(name string) (string, error)
func Symlink(oldname, newname string) error // åˆ›å»ºç¬¦å·è¿æ¥
func Link(oldname, newname string) error // åˆ›å»ºç¡¬è¿æ¥
func TempDir() string // è¿”å›ä¸€ä¸ªç”¨äºä¿ç®¡ä¸´æ—¶æ–‡ä»¶çš„é»˜è®¤ç›®å½•

// ä»filenameæŒ‡å®šçš„æ–‡ä»¶è¯»å–æ•°æ®å¹¶è¿”å›, æˆåŠŸè¿”å›æ–‡ä»¶å†…å®¹å’Œnil
func ReadFile(filename string) ([]byte, error)

// å‘filenameæŒ‡å®šæ–‡ä»¶å†™å…¥æ•°æ®ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨å…ˆæ¸…ç©ºæ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨åˆ›å»ºæ–‡ä»¶.
func WriteFile(filename string, data []byte, perm os.FileMode) error
</code></pre>
<h2 id="signal">Signal</h2>
<p>interface:</p>
<pre><code>type Signal interface {
    String() string
    Signal()
}
</code></pre>
<p>variable:</p>
<pre><code>var (
    Interrupt Signal = syscall.SIGINT
    Kill Signal = syscall.SIGKILL
)
</code></pre>
<h2 id="filemode">FileMode</h2>
<p>ä»£è¡¨æ–‡ä»¶æ¨¡å¼å’Œæƒé™ä½ï¼</p>
<pre><code>type FileMode uint32
</code></pre>
<p>constant:</p>
<pre><code>const (
    ModeDir    FileMode = 1 &lt;&lt; (32 - 1 - iota) // d: ç›®å½•
    ...
    ModeType = ModeDir | ModeSymlink | ModeNamePipe | ModeSocket | ModeDevice
    ModePerm FileMode = 0777
)
</code></pre>
<p>methods:</p>
<pre><code>func (m FileMode) IsDir() bool
func (m FileMode) IsRegular() bool
</code></pre>
<h2 id="fileinfo">FileInfo</h2>
<p>ç”¨æ¥æè¿°ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡</p>
<pre><code>type FileInfo interface {
    Name() string
    Size() int64
    Mode() FileMode
    ModeTime() time.Time
    IsDir() bool
    Sys() interface{}
}
</code></pre>
<p>function:</p>
<pre><code>// è·å–ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡
func Stat(name string) (fi FileInfo, err error)

func Lstat(name string) (fi FileInfo, err error)
</code></pre>
<h2 id="file">File</h2>
<p>è¡¨ç¤ºä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡</p>
<p>struct:</p>
<pre><code>type File struct {}
</code></pre>
<p>functions:</p>
<pre><code>// é‡‡ç”¨flag=os.O_RDWRå’Œperm=0666æ¨¡å¼åˆ›å»ºä¸€ä¸ªåä¸ºnameçš„æ–‡ä»¶, è¿”å›è¯»å†™æ–‡ä»¶å¥æŸ„
// æ–‡ä»¶å·²å­˜åœ¨å°±æˆªæ–­
func Create(name string) (file *File, err error)

// æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œè¿”å›åªè¯»æ–‡ä»¶å¥æŸ„, flag=os.O_RDONLY
func Open(name string) (file *File, err error)

// æŒ‡å®šflagå’Œpermåˆ›å»ºï¼æ‰“å¼€æ–‡ä»¶
func OpenFile(name string, flag int, perm FileMode) (file *File, err error)

// ä½¿ç”¨ç»™å®šçš„æ–‡ä»¶æè¿°æœå’Œåç§°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶.
func NewFile(fd uintptr, name string) *File

// è¿”å›ä¸€å¯¹å…³è”çš„æ–‡ä»¶å¯¹è±¡
func Pipe() (r *File, w *File, err error)
</code></pre>
<p>methods:</p>
<pre><code>// ä»æ–‡ä»¶fä¸­æœ€å¤šè¯»å–len(b)å­—èŠ‚æ•°æ®å†™å…¥b, è¿”å›è¯»å–çš„å­—èŠ‚æ•°
// è¿”å›0, io.EOF, è¡¨ç¤ºè¯»å–0ä¸ªå­—èŠ‚,æ–‡ä»¶ç»ˆæ­¢ï¼
func (f *File) Read(b []byte) (n int, err error)

func (f *File) ReadAt(b []byte, off int64) (n int, err error)

// å‘æ–‡ä»¶få†™å…¥len(b)å­—èŠ‚æ•°æ®bï¼Œè¿”å›å†™å…¥å­—èŠ‚æ•°
func (f *File) Write(b []byte) (n int, err error)

func (f *File) WriteAt(b []byte, off int64) (ret int, err error)

func (f *File) WriteString(s string) (ret int, err error)

func (f *File) Close() error
</code></pre>
<h2 id="process">Process</h2>
<p>ä¿å­˜ä¸€ä¸ªè¢«StarProcessåˆ›å»ºçš„è¿›ç¨‹çš„ä¿¡æ¯</p>
<p>struct:</p>
<pre><code>type Process struct {
    Pid int
}
</code></pre>
<p>functions:</p>
<pre><code>// å¯åŠ¨ä¸€ä¸ªæ–°è¿›ç¨‹
func StartProcess(name string, argv []string, attr *ProcAttr) (*Process, error)

// æŸ¥æ‰¾ä¸€ä¸ªè¿è¡Œä¸­çš„è¿›ç¨‹
func FindProcess(pid int) (p *Process, err error)
</code></pre>
<p>methods:</p>
<pre><code>// å‘è¿›ç¨‹å‘é€ä¿¡å·
func (p *Process) Signal(sig Signal) error

// é˜»å¡ç›´åˆ°è¿›ç¨‹é€€å‡º
func (p *Process) Wait() (*ProcessState, error)

// è®©è¿›ç¨‹ç«‹åˆ»é€€å‡º
func (p *Process) Kill() error

// é‡Šæ”¾è¿›ç¨‹ç»‘å®šçš„èµ„æº
func (p *Process) Release() error
</code></pre>
<h2 id="processstate">ProcessState</h2>
<p>ä¿ç®¡Waitå‡½æ•°æŠ¥å‘Šçš„æŸä¸ªå·²é€€å‡ºè¿›ç¨‹çš„ä¿¡æ¯ï¼</p>
<p>struct:</p>
<pre><code>type ProcessState struct {}
</code></pre>
<p>methods:</p>
<pre><code>// è¿”å›ä¸€ä¸ªå·²é€€å‡ºçš„è¿›ç¨‹çš„id
func (p *ProcessState) Pid() int

// æŠ¥å‘Šè¿›ç¨‹æ˜¯å¦å·²é€€å‡º
func (p *ProcessState) Exited() bool

// æŠ¥å‘Šè¿›ç¨‹æ˜¯å¦æˆåŠŸé€€å‡º
func (p *ProcessState) Success() bool

// è¿”å›å·²é€€å‡ºè¿›ç¨‹åŠå…¶å­è¿›ç¨‹è€—è´¹çš„ç³»ç»Ÿcpuæ—¶é—´
func (p *ProcessState) SystemTime() time.Duration

// è¿”å›å·²é€€å‡ºè¿›ç¨‹åŠå…¶å­è¿›ç¨‹è€—è´¹çš„ç”¨æˆ·cpuæ—¶é—´
func (p *ProcessState) UserTime() time.Duration

func (p *ProcessState) Sys() interface{}

func (p *ProcessState) SysUsage() interface{}

func (p *ProcessState) String() string
</code></pre>
<h2 id="procattr">ProcAttr</h2>
<p>ä¿å­˜è¢«StratProcesså¯åŠ¨çš„æ–°è¿›ç¨‹çš„å±æ€§</p>
<p>struct:</p>
<pre><code>type ProcAttr struct {
    Dir string
    Env []string
    Files []*File
    Sys *syscall.SysProcAttr
}
</code></pre>
<hr>
<h1 id="osexec">os/exec</h1>
<p>æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ï¼ŒåŒ…è£…äº†os.StartProcesså‡½æ•°ï¼Œæä¾›æ›´é«˜çº§çš„æ¥å£.</p>
<h2 id="variable">variable</h2>
<pre><code>var ErrNotFound = errors.New(&quot;executable file not found in $PATH&quot;)
</code></pre>
<h2 id="functions-1">functions</h2>
<pre><code>// åœ¨ç¯å¢ƒå˜é‡æŒ‡å®šçš„ç›®å½•ä¸­æœç´¢å¯æ‰§è¡Œæ–‡ä»¶file
func LookPath(file string) (string, error)
</code></pre>
<h2 id="cmd">Cmd</h2>
<p>è¡¨ç¤ºä¸€ä¸ªå‡†å¤‡æ‰§è¡Œæˆ–æ‰§è¡Œä¸­çš„å¤–éƒ¨å‘½ä»¤</p>
<p>struct:</p>
<pre><code>type Cmd struct {
    Path string
    Args []string
    Env []string
    Dir string
    stdin io.Reader
    Stdout io.Writer
    Stderr io.Writer
    ExtraFiles []*os.File
    SysProcAttr *syscall.SysProcAttr
    Process *os.Process
    ProcessState *os.ProcessState
}
</code></pre>
<p>functions:</p>
<pre><code>// è¿”å›*Cmd
func Command(name string, arg ***string) *Cmd
</code></pre>
<p>methods:</p>
<pre><code>// åŒæ­¥ï¼šæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶é˜»å¡ç›´åˆ°å®Œæˆ
func (c *Cmd) Run() error

// å¼‚æ­¥ï¼šå¼€å§‹æ‰§è¡Œå‘½ä»¤ï¼Œä¸é˜»å¡ç›´æ¥è¿”å›ï¼Œ
func (c *Cmd) Start() error
// é˜»å¡é€šè¿‡Startæ‰§è¡Œçš„å‘½ä»¤ç›´åˆ°å®Œæˆï¼Œè®¾ç½®çŠ¶æ€ç å¹¶é‡Šæ”¾èµ„æºï¼
func (c *Cmd) Wait() error

func (c *Cmd) StdinPipe() (io.WriteCloser, error)
func (c *Cmd) StdoutPipe() (io.ReadCloser, error)
func (c *Cmd) StderrPipe() (io.ReadCloser, error)

// æ‰§è¡Œå‘½ä»¤å¹¶è¿”å›stdoutçš„åˆ‡ç‰‡
func (c *Cmd) Output() ([]byte, error)
// æ‰§è¡Œå‘½ä»¤å¹¶è¿”å›stdoutå’Œstderråˆå¹¶åçš„åˆ‡ç‰‡
func (c *Cmd) CombinedOutput() ([]byte, error)
</code></pre>
<hr>
<h1 id="ossignal">os/signal</h1>
<hr>
<h1 id="osuser">os/user</h1>
<hr>
<h1 id="syscall">syscall</h1>
<p>æä¾›äº†æ“ä½œç³»ç»Ÿçº§åˆ«çš„è°ƒç”¨ï¼</p>
<pre><code>import &quot;syscall&quot;
</code></pre>
<h2 id="constants-1">constants</h2>
<pre><code>const (
    AF_ALG    = 0x26
    ...
)

// å®šä¹‰å¼‚å¸¸
const (
    E2BIG    = Errno(0x70)
    ...
)

// å®šä¹‰ä¿¡å·
const (
    SIGABRT    = Signal(0x6)
    ...
)

const (
    SYS_READ    = 0
    ...
)

const (
    SizeofSockaddrInet4    = 0x10
    ...
)

const (
    IFA_UNSPEC    = 0x0
    ...
)

const (
    SizeofSockFilter    = 0x8
    ...
)

const (
    VINTR    = 0x0
    ...
)

const ImplementsGetwd = true

const PathMax = 0x1000

const SizeofInotifyEvent = 0x10
</code></pre>
<h2 id="variables-1">variables</h2>
<pre><code>var (
    Stdin = 0
    Stdout = 1
    Stderr = 2
)

var ForkLock sync.RWMutex

var SocketDisableIPv6 bool
</code></pre>
<h2 id="others">others</h2>
<p>å‚è€ƒæ–‡æ¡£</p>
<hr>
<h1 id="io">io</h1>
<p>æä¾›äº†å¯¹IOåŸè¯­çš„åŸºæœ¬æ¥å£</p>
<p>go1.16 åˆ é™¤äº†io/ioutil</p>
<pre><code>import &quot;io&quot;
</code></pre>
<h2 id="variables-2">variables</h2>
<pre><code>// æ”¾æ— æ³•è·å–æ›´å¤šè¾“å…¥æ—¶Readæ–¹æ³•è¿”å›os.EOF
var EOF = errors.New(&quot;EOF&quot;)
</code></pre>
<h2 id="functions-2">functions</h2>
<pre><code>func ReadAll(r io.Reader) ([]byte, error)
func ReadAtLeast(r Reader, buf []byte, min int) (n int, err error)
func ReadFull(r Reader, buf []byte) (n int, err error)

// å°†srcæ•°æ®æ‹·è´åˆ°dst, ç›´åˆ°EOFæˆ–å‡ºé”™ï¼Œè¿”å›æ‹·è´çš„å­—èŠ‚æ•°
func Copy(dst Writer, src Reader) (written int64, err error)

// ç±»ä¼¼Copyï¼Œä¸è¿‡åªæ‹·è´nä¸ªå­—èŠ‚.
func CopyN(dst Writer, src Reader, n int64) (written int64, err error)

func CopyBuffer(dst Writer, src Reader, buf []byte) (written int64, err error)

// å°†å­—ç¬¦ä¸²så†™å…¥w
func WriteString(w Writer, s string) (n int, err error)
</code></pre>
<h2 id="reader">Reader</h2>
<p>ç”¨äºåŒ…è£…åŸºæœ¬çš„è¯»å–æ–¹æ³•</p>
<p>os.File(os.Stdout, os.Stdin. os.Stderr), bytes.Buffer å’Œ bufio.Reader éƒ½æ˜¯io.Readeræ¥å£</p>
<p>interface:</p>
<pre><code>type Reader interface {
    Read(p []byte) (n int, err error)
}
</code></pre>
<h2 id="writer">Writer</h2>
<p>ç”¨äºåŒ…è£…åŸºæœ¬çš„å†™å…¥æ–¹æ³•</p>
<p>os.File(os.Stdin, os.Stderr, os.Stdin), bytes.Buffer å’Œ bufio.Writer, net/http.ResponseWriter éƒ½æ˜¯io.Writeræ¥å£</p>
<p>interface:</p>
<pre><code>type Writer interface {
    Write(p []byte) (n int, err error)
}
</code></pre>
<h2 id="closer">Closer</h2>
<p>ç”¨äºåŒ…è£…åŸºæœ¬çš„å…³é—­æ–¹æ³•</p>
<p>interface:</p>
<pre><code>type Closer interface {
    Close() error
}
</code></pre>
<h2 id="seeker">Seeker</h2>
<p>ç”¨äºåŒ…è£…åŸºæœ¬çš„ç§»ä½æ–¹æ³•</p>
<p>interface:</p>
<pre><code>type Seeker interface {
    Seek(offset int64, whence int) (int64, error)
}
</code></pre>
<h2 id="readwriter">ReadWriter</h2>
<p>interface:</p>
<pre><code>type ReadWriter interface {
    Reader
    Writer
}
</code></pre>
<hr>
<h1 id="bufio">bufio</h1>
<p>bufioå®ç°äº†æœ‰ç¼“å†²çš„IO</p>
<h2 id="constants-2">constants</h2>
<pre><code>const (
    // ç”¨äºç¼“å†²ä¸€ä¸ªtoken
    MaxScanTokenSize = 64 * 1024
)
</code></pre>
<h2 id="variables-3">variables</h2>
<pre><code>// ä¼šè¢«Scannerè¿”å›çš„é”™è¯¯
var (
    ErrInvalidUnreadByte = errors.New(&quot;bufio: invalid use of UnreadByte&quot;)
    ...
)
</code></pre>
<h2 id="functions-3">functions</h2>
<pre><code>func ScanBytes(data []byte, atEOF bool) (advance int, token []byte, err error)

func ScanRunes(data []byte, atEOF bool) (advance int, token []byte, err error)

func ScanWords(data []byte, atEOF bool) (advance int, token []byte, err error)

// å°†æ¯ä¸€è¡Œæ–‡æœ¬å»æ‰æœ«å°¾çš„æ¢è¡Œæ ‡è®°ï¼Œç„¶åä½œä¸ºä¸€ä¸ªtokenè¿”å›
func ScanLines (data []byte, atEOF bool) (advance int, token []byte, err error)
</code></pre>
<h2 id="reader-1">Reader</h2>
<p>ç»™io.Readeræ¥å£å¯¹è±¡é™„åŠ ç¼“å†²</p>
<p>struct:</p>
<pre><code>type Reader struct {}
</code></pre>
<p>functions:</p>
<pre><code>func NewReader(rd io.Reader) *Reader

func NewReaderSize(rd io.Reader, size int) *Reader
</code></pre>
<p>methods:</p>
<pre><code>func (b *Reader) Read(p []byte) (n int, err error)
// è¯»å–ç›´åˆ°ç¬¬ä¸€æ¬¡é‡åˆ°delimå­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å·²è¯»å–æ•°æ®å’Œdelimå­—èŠ‚çš„å­—ç¬¦ä¸²
// å½“ä¸”ä»…å½“è¿”å›çš„åˆ‡ç‰‡ä¸ä»¥delimç»“å°¾æ—¶ï¼Œè¿”å›énilé”™è¯¯
func (b *Reader) ReadString(delim byte) (line string, err error)
func (b *Reader) ReadBytes(delim byte) (line []byte, err error)
func (b *Reader) ReadSlice(delim byte) (line []byte, err error)
func (b *Reader) ReadLine() (line []byte, isPrefix bool, err error)

func (b *Reader) ReadByte() (c byte, err error)
func (b *Reader) ReadRune() (r rune, size int, err error)
</code></pre>
<h2 id="writer-1">Writer</h2>
<p>ç»™io.Writeræ¥å£å¯¹è±¡æä¾›ç¼“å†²</p>
<p>struct:</p>
<pre><code>type Writer struct {}
</code></pre>
<p>functions:</p>
<pre><code>func NewWriter(w io.Writer) *Writer

func NewWriterSize(w io.Writer, size int) *Writer
</code></pre>
<p>methods:</p>
<pre><code>func (b *Writer) Write(p []byte) (nn int, err error)
func (b *Writer) WriteString(s string) (int, error)
func (b *Writer) WriteByte(c byte) error
func (b *Writer) WriteRune(r rune) (size int, err error)

func (b *Writer) Flush() error
</code></pre>
<h2 id="readwriter-1">ReadWriter</h2>
<p>struct:</p>
<pre><code>type ReadWriter struct {
    *Reader
    *Writer
}
</code></pre>
<p>functions:</p>
<pre><code>func NewReadWriter(r *Reader, w *Writer) *ReadWriter
</code></pre>
<h2 id="scanner">Scanner</h2>
<p>æä¾›äº†æ–¹ä¾¿çš„è¯»å–æ•°æ®æ¥å£</p>
<p>struct:</p>
<pre><code>type Scanner struct {}
</code></pre>
<p>functions:</p>
<pre><code>// åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªä»rè¯»å–æ•°æ®çš„Scannerï¼Œé»˜è®¤åˆ†å‰²å‡½æ•°æ˜¯ScanLines
func NewScanner(r io.Reader) *Scanner
</code></pre>
<p>methods:</p>
<pre><code>// è®¾ç½®sçš„åˆ†å‰²å‡½æ•°
func (s *Scanner) Split(split SplitFunc)

// è·å–å½“å‰ä½ç½®çš„token, å¹¶è®©Scannerçš„æ‰«æä½ç½®ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªtoken.
func (s *Scanner) Scan() bool

// è¿”å›æœ€è¿‘ä¸€æ¬¡Scanè°ƒç”¨ç”Ÿæˆçš„token.
func (s *Scanner) Bytes() []byte

// åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ä¿å­˜Bytesè¿”å›çš„token,å¹¶è¿”å›
func (s *Scanner) Text() string

// è¿”å›Scanneré‡åˆ°çš„ç¬¬ä¸€ä¸ªéEOFé”™è¯¯
func (s *Scanner) Err() error
</code></pre>
<h2 id="splitfunc">SplitFunc</h2>
<pre><code>type SplitFunc func(data []byte, atEOF bool) (advance int, token []byte, err error)
</code></pre>
<hr>
<h1 id="fmt">fmt</h1>
<p>å®ç°äº†ç±»ä¼¼äºCçš„printf/scanfçš„æ ¼å¼åŒ–IO.</p>
<pre><code>import &quot;fmt&quot;
</code></pre>
<p>é€šç”¨å ä½ç¬¦:</p>
<pre><code>%v    ç›¸åº”å€¼çš„é»˜è®¤æ ¼å¼
%+v   åŒæ—¶æ‰“å°ç»“æ„ä½“çš„å­—æ®µå
%#v   ç›¸åº”å€¼çš„goè¯­æ³•è¡¨ç¤º
%T    ç›¸åº”å€¼çš„ç±»å‹çš„goè¯­æ³•è¡¨ç¤º
%%    å­—é¢ä¸Šçš„ç™¾åˆ†å·
</code></pre>
<p>å¸ƒå°”ç±»å‹ï¼š</p>
<pre><code>%t    true/false
</code></pre>
<p>æ•´æ•°ç±»å‹ï¼š</p>
<pre><code>%b    äºŒè¿›åˆ¶è¡¨ç¤º
%c    ç›¸åº”çš„unicodeç ç‚¹æ‰€è¡¨ç¤ºçš„å­—ç¬¦
%d    åè¿›åˆ¶è¡¨ç¤º
%o    å…«è¿›åˆ¶è¡¨ç¤º
%q    å•å¼•å·åŒ…å›´çš„å­—ç¬¦å­—é¢å€¼
%x    åå…­è¿›åˆ¶(å­—æ¯å°å†™)
%X    åå…­è¿›åˆ¶(å­—æ¯å¤§å†™)
%U    unicodeæ ¼å¼
</code></pre>
<p>æµ®ç‚¹æ•°ç±»å‹ï¼š</p>
<pre><code>%b    æ— å°æ•°éƒ¨åˆ†çš„ï¼ŒæŒ‡æ•°ä¸ºäºŒçš„å¹‚çš„ç§‘å­¦è®¡æ•°æ³•ï¼
%e    ç§‘å­¦è®¡æ•°æ³•
%E    ç§‘å­¦è®¡æ•°æ³•
%f    æœ‰å°æ•°ç‚¹ï¼Œè€Œæ— æŒ‡æ•°
%g    æ ¹æ®æƒ…å†µé€‰æ‹©%e æˆ– %f
%G    æ ¹æ®æƒ…å†µé€‰æ‹©E% æˆ– %f

%[å®½åº¦]Type
%.[ç²¾åº¦]Type
%[å®½åº¦].[ç²¾åº¦]Type
</code></pre>
<p>å­—ç¬¦ä¸²ä¸å­—èŠ‚åˆ‡ç‰‡ï¼š</p>
<pre><code>%s    å­—ç¬¦ä¸²æˆ–åˆ‡ç‰‡çš„å­—èŠ‚
%q    åŒå¼•å·åŒ…å›´çš„å­—ç¬¦ä¸²
%x    åå…­è¿›åˆ¶(å°å†™å­—æ¯)
%X    åå…­è¿›åˆ¶(å¤§å†™å­—æ¯)
</code></pre>
<p>æŒ‡é’ˆï¼š</p>
<pre><code>%p    åå…­è¿›åˆ¶è¡¨ç¤º(0x)
</code></pre>
<h2 id="functions-4">functions</h2>
<pre><code>// è¿”å›ä¸€ä¸ªåŒ…å«è¯¥æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„é”™è¯¯
func Errorf(format string, a ...interface{}) error

// å†™å…¥åˆ°STDOUT, è¿”å›å†™å…¥å­—èŠ‚æ•°
// é»˜è®¤æ ¼å¼åŒ–
func Print(a ...interface{}) (n int, err error)
// é»˜è®¤æ ¼å¼åŒ–ï¼Œè‡ªåŠ¨ç»“å°¾æ·»åŠ æ¢è¡Œç¬¦
func Println(a ...interface{}) (n int, err error)
// æŒ‡å®šæ ¼å¼åŒ–
func Printf(format string, a ...interface{}) (n int, err error)

// å†™å…¥åˆ°w, è¿”å›å†™å…¥å­—èŠ‚æ•°
// w: os.File bufio.Writer
func Fprint(w io.Writer, a ...interface{}) (n int, err error)
func Fprintln(w io.Writer, a ...interface{}) (n int, err error)
func Fprintf(w io.Writer, format string, a ...interface{}) (n int, err error)

// è¿”å›è¯¥å­—ç¬¦ä¸²
func Sprint(a ...interface{}) string
func Sprintln(a ...interface{}) string
func Sprintf(format string, a ...interface{}) string

// ä»STDINæ‰«ææ–‡æœ¬å­˜å…¥a,è¿”å›æˆåŠŸæ‰«æçš„ä¸ªæ•°
// æ¢è¡Œè§†ä¸ºç©ºç™½ï¼Œè·å–len(a)ä¸ªæ¡ç›®æ‰åœæ­¢æ‰«æ
func Scan(a ...interface{}) (n int, err error)
// æ¢è¡Œæ‰åœæ­¢æ‰«æ
func Scanln(a ...interface{}) (n int, err error)
// æ ¹æ®ç©ºæ ¼åˆ†å‰²çš„æ¡ç›®æ ¼å¼åŒ–å†™å…¥æŒ‡å®šå‚æ•°a
func Scanf(format string, a ...interface{}) (n int, err error)

// ä»ræ‰«ææ–‡æœ¬å­˜å…¥a, è¿”å›æˆåŠŸæ‰«æçš„æ¡ç›®
// r: os.File bufio.Reader
func Fscan(r io.Reader, a ...interface{}) (n int, err error)
func Fscanln(r io.Reader, a ...interface{}) (n int, err error)
func Fscanf(r io.Reader, format string, a ...interface{}) (n int, err error)

// ä»å­—ç¬¦ä¸²stræ‰«ææ–‡æœ¬å­˜å…¥a,  è¿”å›æ‰«ææˆåŠŸçš„æ¡ç›®
func Sscan(str string, a ...interface{}) (n int, err error)
func Sscanln(str string, a ...interface{}) (n int, err error)
func Sscanf(str string, format string, a ...interface{}) (n int, err error)
</code></pre>
<h2 id="stringer">Stringer</h2>
<p>interface:</p>
<pre><code>type Stringer initerface {
    String() string
}
</code></pre>
<h2 id="gostringer">GoStringer</h2>
<p>interface:</p>
<pre><code>type GoStringer interface {
    GoString() string
}
</code></pre>
<h2 id="state">State</h2>
<p>interface:</p>
<pre><code>type State interface {
    Write(b []byte) (ret int, err error)
    Width() (wid int, ok bool)
    Precision() (prec int, ok bool)
    Flag(c int) bool
}
</code></pre>
<h2 id="formatter">Formatter</h2>
<p>interface:</p>
<pre><code>type Formatter interface {
    Format(f State, c rune)
}
</code></pre>
<h2 id="scanstate">ScanState</h2>
<p>interface:</p>
<pre><code>type ScanState interface {
    ReadRune() (r rune, size int, err error)
    UnreadRune() error
    SkipSpace()
    Token(skipSpace bool, f func(rune) bool) (token []byte, err error)
    Width() (wid int, ok bool)
    Read(buf []byte) (n int, err error)
}
</code></pre>
<h2 id="scanner-1">Scanner</h2>
<p>interface:</p>
<pre><code>type Scanner interface {
    Scan(state ScanState, verb rune) error
}
</code></pre>
<hr>
<h1 id="log">log</h1>
<p>å®ç°äº†ç®€å•çš„æ—¥å¿—æœåŠ¡.</p>
<h2 id="constants-3">Constants</h2>
<pre><code>const (
    Ldate        = 1 &lt;&lt; iota     // æ—¥æœŸ
    Ltime              // æ—¶é—´
    Lmicroseconds      // å¾®ç§’
    Llongfile          // ç»å¯¹æ–‡ä»¶åå’Œè¡Œå¥½ /path/to/file.go:13
    Lshortfile         // æ–‡ä»¶åå’Œè¡Œå¥½, è¦†ç›–ä¸Šé¢å­—æ®µ file.go:13
    LstdFlags    = Ldate | Ltime      // æ ‡å‡†loggerçš„åˆå§‹å€¼
)
</code></pre>
<h2 id="functions-5">functions</h2>
<pre><code>func Printf(format string, v ...interface{})
func Print(v ...interface{})
func Println(v ...interface{})

// ä¸‹åˆ—å‡½æ•°åœ¨Print...å‡½æ•°åŸºç¡€ä¸Šå†è°ƒç”¨os.Exit(1)
func Fatalf(format string, v ...interface{})
func Fatal(v ...interface{})
func Fatalln(v ...interface{})

// ä¸‹åˆ—å‡½æ•°åœ¨Print...å‡½æ•°åŸºç¡€ä¸Šå†è°ƒç”¨panic(...)
// panicä¼šæ‰§è¡Œå½“å‰å‡½æ•°çš„defer, ç„¶åé€€å‡ºå½“å‰å‡½æ•°ï¼Œè¿”å›åˆ°è°ƒç”¨è€…ï¼Œ
// è°ƒç”¨å‡½æ•°ä¼šæ‰§è¡Œdefer, ç›´åˆ°åº”ç”¨ç¨‹åºé€€å‡º.æœ€åpanic.
func Panicf(format string, v ...interface{})
func Panic(v ...interface{})
func Panicln(v ...interface{})
</code></pre>
<h2 id="logger">Logger</h2>
<p>struct:</p>
<pre><code>type Logger struct {}
</code></pre>
<p>function:</p>
<pre><code>// åˆ›å»ºä¸€ä¸ªLogger.
func New(out io.Writer, prefix string, flag int) *Logger
</code></pre>
<p>methods:</p>
<pre><code>func (l *Logger) Flags() int
</code></pre>
<hr>
<h1 id="flag">flag</h1>
<p>å®ç°äº†å‘½ä»¤è¡Œå‚æ•°è§£æ</p>
<p>ç¬¬ä¸‰æ–¹åŒ…:</p>
<p><a class="link" href="https://github.com/alecthomas/kingpin"  target="_blank" rel="noopener"
    >https://github.com/alecthomas/kingpin</a></p>
<h2 id="variables-4">variables</h2>
<pre><code>var CommandLine = NewFlagSet(os.Args[0], ExitOnError)

//
var ErrHelp = errors.New(&quot;flag: help requested&quot;)

//
var Usage = func() {
    fmt.Fprintf(os.Stderr, &quot;Usage of %s:\n&quot;, os.Args[0])
    PrintDefaults()
}
</code></pre>
<h2 id="functions-6">functions</h2>
<pre><code>// è¿”å›å·²è¢«è®¾ç½®çš„flagæ•°é‡
func NFlag() int
// è¿”å›å·²æ³¨å†Œflagçš„ç»“æ„ä½“æŒ‡é’ˆ
func Lookup(name string) *Flag

// éflagå‚æ•°ä¸èƒ½åœ¨flagå‚æ•°å‰é¢æŒ‡å®šï¼Œå¦åˆ™flagå‚æ•°ä¸ä¼šè¢«è§£æï¼
// è¿”å›éflagå‚æ•°ä¸ªæ•°
func NArg() int
// è¿”å›æ‰€æœ‰éflagå‚æ•°
func Args() []string
// è¿”å›ç¬¬iä¸ªéflagå‚æ•°, i=0 å°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸æ˜¯ç¨‹åºåç§°
func Arg(i int) string

// å‘Stderrå†™å…¥æ‰€æœ‰æ³¨å†Œå¥½çš„flagçš„é»˜è®¤å€¼
func PrintDefaults()

// ä»os.Args[1:] ä¸­è§£ææ³¨å†Œçš„flag.
func Parse()
// è¿”å›æ˜¯å¦Parseæ˜¯å¦è¢«è°ƒç”¨è¿‡
func Parsed() bool

// æŒ‰ç…§å­—å…¸é¡ºåºéå†flagï¼Œå¹¶å¯¹æ¯ä¸ªflagè°ƒç”¨fn, åªé’ˆå¯¹è§£ææ—¶è®¾ç½®äº†çš„flag
func Visit(fn func(*Flag))
// æŒ‰ç…§å­—å…¸é¡ºåºéå†flag,ã€€å¹¶å¯¹æ¯ä¸ªflagè°ƒç”¨fn, é’ˆå¯¹æ‰€æœ‰flag.
func VisitAll(fn func(*Flag))

// ç”¨æŒ‡å®šçš„åç§°ï¼Œé»˜è®¤å€¼ï¼Œå¸®åŠ©ä¿¡æ¯æ³¨å†Œä¸€ä¸ªboolç±»å‹çš„flag
// è¿”å›ä¸€ä¸ªä¿å­˜äº†è¯¥flagçš„å€¼çš„æŒ‡é’ˆ
func Bool(name string, value bool, usage string) *bool
// ç”¨æŒ‡å®šçš„åç§°ï¼Œé»˜è®¤å€¼ï¼Œå¸®åŠ©ä¿¡æ¯æ³¨å†Œä¸€ä¸ªboolç±»å‹çš„flag
// å°†flagå€¼ä¿å­˜åˆ°æŒ‡é’ˆpæŒ‡å‘çš„å˜é‡
func BoolVar(p *bool, name string, value bool, usage string)

func Int
func IntVar
func Int64
func Int64Var

func Uint
func UintVar
func Uint64
func Uint64Var

func Float64
func Float64Var

func String
func StringVar

// time.Durationç±»å‹
func Duration
func DurationVar

// ç”¨æŒ‡å®šçš„åå­—ï¼Œå¸®åŠ©ä¿¡æ¯ï¼Œæ³¨å†Œä¸€ä¸ªflagï¼Œç±»å‹ç”±valueå†³å®š
func Var(value Value, name string, usage string)
// è®¾ç½®å·²æ³¨å†Œçš„flagçš„å€¼
func Set(name, value string) error
</code></pre>
<h2 id="errorhandling">ErrorHandling</h2>
<p>å®šä¹‰å¦‚ä½•å¤„ç†flagè§£æé”™è¯¯</p>
<pre><code>type ErrorHandling int

const (
    ContinueOnError ErrorHandling = iota
    ExitOnError
    PanicOnError
)
</code></pre>
<h2 id="flag-1">Flag</h2>
<p>å®šä¹‰ä¸€ä¸ªflag</p>
<p>struct:</p>
<pre><code>type Flag struct {
    Name     string
    Usage    string
    Value    Value
    DefValue string
}
</code></pre>
<h2 id="flagset">FlagSet</h2>
<p>ä»£è¡¨ä¸€ä¸ªå·²æ³¨å†Œflagé›†åˆ.</p>
<p>FlagSeté›¶å€¼æ²¡æœ‰åå­—ï¼Œé»˜è®¤é‡‡ç”¨ContinueOnError.</p>
<p>struct:</p>
<pre><code>type FlagSet struct {
    Usage func()
}
</code></pre>
<p>functions:</p>
<pre><code>// åˆ›å»ºä¸€ä¸ªæ–°çš„FlagSetå«nameï¼Œé‡‡ç”¨errorHandlingä¸ºé”™è¯¯å¤„ç†ç­–ç•¥
func NewFlagSet(name string, errorHandling ErrorHandling) *FlagSet
</code></pre>
<p>methods:</p>
<pre><code>// è®¾ç½®fçš„åå­—å’Œé”™è¯¯å¤„ç†ç­–ç•¥.
func (f *FlagSet) Init(name string, errorHandling ErrorHandling)
</code></pre>
<h2 id="value">Value</h2>
<p>ç”¨äºå°†åŠ¨æ€å€¼ä¿å­˜åœ¨flagé‡Œ.</p>
<p>interface:</p>
<pre><code>type Value interface {
    String() string
    Set(string) error
}
</code></pre>
<h2 id="getter">Getter</h2>
<hr>
<h1 id="logrus">logrus</h1>
<p><a class="link" href="https://github.com/sirupsen/logrus"  target="_blank" rel="noopener"
    >https://github.com/sirupsen/logrus</a></p>
<hr>
<h1 id="cobra">cobra</h1>
<p><a class="link" href="https://github.com/spf13/cobra"  target="_blank" rel="noopener"
    >https://github.com/spf13/cobra</a></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/system/">System</a>
        
    </section>


    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

     
    
        
    <div id="gitalk-container"></div>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"
/>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: "3d41a2a237fabe050cc0",
        clientSecret: "868aa81b294f1463ddb6edc007576ecfed7d2075",
        repo: "crazy-canux.github.io",
        owner: "crazy-canux",
        admin: ["crazy-canux"],
        distractionFreeMode: false, 
        id: md5(location.pathname), 
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>



    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2013 - 
        
        2025 Morgoth
    </section>
    
    <section class="powerby">
        
            Designed by Canux <br/>
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
