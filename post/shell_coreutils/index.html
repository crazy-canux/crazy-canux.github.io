<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='Linuxçš„å¤–éƒ¨å‘½ä»¤ Linuxå¤–éƒ¨å‘½ä»¤çš„é¡¹ç›®æ˜¯coreutilsã€‚
å¤–éƒ¨å‘½ä»¤åœ¨coreutilsç›®å½•ä¸­
æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰€åœ¨ç›®å½•ï¼š
echo $PATH å¤–éƒ¨å‘½ä»¤åœ¨ä¸‹åˆ—ç›®å½•ä¸­ï¼š
~/bin # ç”¨æˆ·è‡ªå®šä¹‰ /sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin /usr/games /usr/local/games æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰‹å†Œçš„åœ¨çº¿æ‰‹å†Œï¼š
man [command] info [command] è‡ªå®šä¹‰å¤–éƒ¨å‘½ä»¤ï¼š
æ·»åŠ $PATHå˜é‡ï¼Œç„¶åæ”¾åˆ°è¯¥ç›®å½•ã€‚
ç³»ç»Ÿç®¡ç† cpu/mem/load
# æŸ¥çœ‹cpu/mem/swap/systemä¿¡æ¯ vmstat vmstat 1 # æŸ¥çœ‹è¿›ç¨‹æ¶ˆè€—çš„cpu/mem/swap/systemç­‰ç³»ç»Ÿä¿¡æ¯ top top -H # æŸ¥çœ‹çº¿ç¨‹ %cpu = cputime/realtime * 100% cpu_usage = %cpu/cpu-number %mem = RES/physicalMem * 100% htop $ sudo apt-get install htop $ sudo apt-get install sysstat (åŒ…æ‹¬pidstat) pidstat -u -p pid // cpu pidstat -r -p pid //mem cpu/load:
'>
<title>Coreutils</title>

<link rel='canonical' href='https://canuxcheng.com/post/shell_coreutils/'>

<link rel="stylesheet" href="/scss/style.min.2d59822570c0be136f2ad87c952ef8788ac2a951067adda1c49b253bff7d0292.css"><meta property='og:title' content='Coreutils'>
<meta property='og:description' content='Linuxçš„å¤–éƒ¨å‘½ä»¤ Linuxå¤–éƒ¨å‘½ä»¤çš„é¡¹ç›®æ˜¯coreutilsã€‚
å¤–éƒ¨å‘½ä»¤åœ¨coreutilsç›®å½•ä¸­
æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰€åœ¨ç›®å½•ï¼š
echo $PATH å¤–éƒ¨å‘½ä»¤åœ¨ä¸‹åˆ—ç›®å½•ä¸­ï¼š
~/bin # ç”¨æˆ·è‡ªå®šä¹‰ /sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin /usr/games /usr/local/games æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰‹å†Œçš„åœ¨çº¿æ‰‹å†Œï¼š
man [command] info [command] è‡ªå®šä¹‰å¤–éƒ¨å‘½ä»¤ï¼š
æ·»åŠ $PATHå˜é‡ï¼Œç„¶åæ”¾åˆ°è¯¥ç›®å½•ã€‚
ç³»ç»Ÿç®¡ç† cpu/mem/load
# æŸ¥çœ‹cpu/mem/swap/systemä¿¡æ¯ vmstat vmstat 1 # æŸ¥çœ‹è¿›ç¨‹æ¶ˆè€—çš„cpu/mem/swap/systemç­‰ç³»ç»Ÿä¿¡æ¯ top top -H # æŸ¥çœ‹çº¿ç¨‹ %cpu = cputime/realtime * 100% cpu_usage = %cpu/cpu-number %mem = RES/physicalMem * 100% htop $ sudo apt-get install htop $ sudo apt-get install sysstat (åŒ…æ‹¬pidstat) pidstat -u -p pid // cpu pidstat -r -p pid //mem cpu/load:
'>
<meta property='og:url' content='https://canuxcheng.com/post/shell_coreutils/'>
<meta property='og:site_name' content='Morgoth'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='shell' /><meta property='article:published_time' content='2016-03-31T21:51:25&#43;00:00'/><meta property='article:modified_time' content='2016-03-31T21:51:25&#43;00:00'/>
<meta name="twitter:title" content="Coreutils">
<meta name="twitter:description" content="Linuxçš„å¤–éƒ¨å‘½ä»¤ Linuxå¤–éƒ¨å‘½ä»¤çš„é¡¹ç›®æ˜¯coreutilsã€‚
å¤–éƒ¨å‘½ä»¤åœ¨coreutilsç›®å½•ä¸­
æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰€åœ¨ç›®å½•ï¼š
echo $PATH å¤–éƒ¨å‘½ä»¤åœ¨ä¸‹åˆ—ç›®å½•ä¸­ï¼š
~/bin # ç”¨æˆ·è‡ªå®šä¹‰ /sbin /bin /usr/sbin /usr/bin /usr/local/sbin /usr/local/bin /usr/games /usr/local/games æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰‹å†Œçš„åœ¨çº¿æ‰‹å†Œï¼š
man [command] info [command] è‡ªå®šä¹‰å¤–éƒ¨å‘½ä»¤ï¼š
æ·»åŠ $PATHå˜é‡ï¼Œç„¶åæ”¾åˆ°è¯¥ç›®å½•ã€‚
ç³»ç»Ÿç®¡ç† cpu/mem/load
# æŸ¥çœ‹cpu/mem/swap/systemä¿¡æ¯ vmstat vmstat 1 # æŸ¥çœ‹è¿›ç¨‹æ¶ˆè€—çš„cpu/mem/swap/systemç­‰ç³»ç»Ÿä¿¡æ¯ top top -H # æŸ¥çœ‹çº¿ç¨‹ %cpu = cputime/realtime * 100% cpu_usage = %cpu/cpu-number %mem = RES/physicalMem * 100% htop $ sudo apt-get install htop $ sudo apt-get install sysstat (åŒ…æ‹¬pidstat) pidstat -u -p pid // cpu pidstat -r -p pid //mem cpu/load:
">
    <link rel="shortcut icon" href="favicon.ico" />
<style>
    :root {
        --article-font-family: "Merriweather", var(--base-font-family);
    }
</style>

<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap";
    
        customFont.type = "text/css";
        customFont.rel = "stylesheet";
    
        document.head.appendChild(customFont);
    }());
</script>

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/home_hu_ee27fe234e3b32c2.jpg" width="300"
                            height="400" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Morgoth</a></h1>
            <h2 class="site-description">Hello World!</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='mailto:canuxcheng@163.com'
                        target="_blank"
                        title="E-mail"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10" />
  <path d="M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/crazy-canux'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories/' target="_blank">
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                
                <span>Categories</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags/' target="_blank">
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11 3L20 12a1.5 1.5 0 0 1 0 2L14 20a1.5 1.5 0 0 1 -2 0L3 11v-4a4 4 0 0 1 4 -4h4" />
  <circle cx="9" cy="9" r="2" />
</svg>



                
                <span>Tags</span>
            </a>
        </li>
        
        
        <li >
            <a href='/rtfm/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                
                <span>RTFM</span>
            </a>
        </li>
        
        
        <li >
            <a href='/samuel/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M9.828 9.172a4 4 0 1 0 0 5.656 a10 10 0 0 0 2.172 -2.828a10 10 0 0 1 2.172 -2.828 a4 4 0 1 1 0 5.656a10 10 0 0 1 -2.172 -2.828a10 10 0 0 0 -2.172 -2.828" />
</svg>



                
                <span>Samuel</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://canuxcheng.com/" selected></option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/linux/" >
                Linux
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/shell_coreutils/">Coreutils</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Mar 31, 2016</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    4 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="linuxçš„å¤–éƒ¨å‘½ä»¤">Linuxçš„å¤–éƒ¨å‘½ä»¤</h1>
<p>Linuxå¤–éƒ¨å‘½ä»¤çš„é¡¹ç›®æ˜¯coreutilsã€‚</p>
<p>å¤–éƒ¨å‘½ä»¤åœ¨coreutilsç›®å½•ä¸­</p>
<p>æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰€åœ¨ç›®å½•ï¼š</p>
<pre><code>echo $PATH
</code></pre>
<p>å¤–éƒ¨å‘½ä»¤åœ¨ä¸‹åˆ—ç›®å½•ä¸­ï¼š</p>
<pre><code>~/bin # ç”¨æˆ·è‡ªå®šä¹‰

/sbin

/bin

/usr/sbin

/usr/bin

/usr/local/sbin

/usr/local/bin

/usr/games

/usr/local/games
</code></pre>
<p>æŸ¥çœ‹å¤–éƒ¨å‘½ä»¤æ‰‹å†Œçš„åœ¨çº¿æ‰‹å†Œï¼š</p>
<pre><code>man [command]
info [command]
</code></pre>
<p>è‡ªå®šä¹‰å¤–éƒ¨å‘½ä»¤ï¼š</p>
<p>æ·»åŠ $PATHå˜é‡ï¼Œç„¶åæ”¾åˆ°è¯¥ç›®å½•ã€‚</p>
<hr>
<h1 id="ç³»ç»Ÿç®¡ç†">ç³»ç»Ÿç®¡ç†</h1>
<p>cpu/mem/load</p>
<pre><code># æŸ¥çœ‹cpu/mem/swap/systemä¿¡æ¯
vmstat
vmstat 1

# æŸ¥çœ‹è¿›ç¨‹æ¶ˆè€—çš„cpu/mem/swap/systemç­‰ç³»ç»Ÿä¿¡æ¯
top
top -H  # æŸ¥çœ‹çº¿ç¨‹
%cpu = cputime/realtime * 100%
cpu_usage = %cpu/cpu-number
%mem = RES/physicalMem * 100%

htop
$ sudo apt-get install htop

$ sudo apt-get install sysstat (åŒ…æ‹¬pidstat)
pidstat -u -p pid // cpu
pidstat -r -p pid //mem
</code></pre>
<p>cpu/load:</p>
<pre><code>$ sudo apt-get install sysstat (åŒ…æ‹¬mpstat)
mpstat -P ALL 1 5 // cpu

uptime

lscpu # æ˜¾ç¤ºcpuæ¶æ„çš„ä¿¡æ¯

cat /proc/cpuinfo # æŸ¥çœ‹cpuä¿¡æ¯
cat /proc/cpuinfo | grep &quot;processor&quot; | wc -l # é€»è¾‘cpuæ€»æ•°
cat /proc/cpuinfo | grep &quot;physical id&quot; | sort | uniq | wc -l # ç‰©ç†cpuä¸ªæ•°
cat /proc/cpuinfo | grep &quot;cpu cores&quot; | uniq # ç‰©ç†cpuæ ¸æ•°
cat /proc/cpuinfo | grep -e &quot;cpu cores&quot;Â  -e &quot;siblings&quot; | sort | uniq # å’Œcpu coresä¸€æ ·è¯´æ˜æ²¡æœ‰å¯ç”¨è¶…çº¿ç¨‹.
processor: é€»è¾‘cpuæ€»æ•°=ç‰©ç†cpuä¸ªæ•°*ç‰©ç†cpuæ ¸æ•°ï¼ˆéè¶…çº¿ç¨‹ï¼‰ï¼Œ  ç‰©ç†cpuä¸ªæ•°*ç‰©ç†cpuæ ¸æ•°*2ï¼ˆè¶…çº¿ç¨‹cpu).
physical id :ç‰©ç†cpuä¸ªæ•°(æ¯ä¸ªsocket/æ’æ§½å¯ä»¥æ”¾ä¸€ä¸ªç‰©ç†cpu).
cpu cores: ç‰©ç†cpuæœ‰å‡ ä¸ªæ ¸(å¦‚æœæ˜¯è¶…çº¿ç¨‹æŠ€æœ¯çš„cpu,æ¯ä¸ªæ ¸å¯ä»¥è¿è¡Œä¸¤ä¸ªçº¿ç¨‹ï¼Œæˆ–è€…è¯´æ¯ä¸ªæ ¸å¯¹åº”ä¸¤ä¸ªé€»è¾‘cpuï¼‰ã€‚
siblingsï¼š æ¯ä¸ªç‰©ç†cpuå•ä¸ªæ ¸å¿ƒä¸Šçš„é€»è¾‘cpuä¸ªæ•°

strace
strace -c -p pid
strace -T -e epoll_wait -p pid

dmesg
</code></pre>
<p>mem:</p>
<pre><code>free
free -m

cat /proc/meminfo # æŸ¥çœ‹å†…å­˜ä¿¡æ¯

pmap
pmap -d pid
</code></pre>
<p>system:</p>
<pre><code>uname # æ‰“å°linuxç³»ç»Ÿä¿¡æ¯
$ uname -a
cat /etc/issue
cat /proc/version

lsb_release # æŸ¥çœ‹å‘è¡Œç‰ˆæœ¬ä¿¡æ¯
$ lsb_release -a

getconf # æŸ¥è¯¢ç³»ç»Ÿé…ç½®çš„å˜é‡ï¼ŒLONG_BITè¡¨ç¤ºç³»ç»Ÿä½æ•°
</code></pre>
<p>process:</p>
<pre><code>ps
# æ ¼å¼åŒ–è¾“å‡ºï¼Œé€—å·åé¢ä¸èƒ½æœ‰ç©ºæ ¼
ps -eo/-Ao %cpu/pcpu,%mem/pmem,stat,start/start_time/lstart,pid,ppid,cmd/args/command
ps --ppid 1 -o pid,command | grep -v grep | grep daemon # è·å–å¤šè¿›ç¨‹ç¨‹åºä¸»è¿›ç¨‹çš„pid

pstree -a

pkill
pkill -f &lt;pattern&gt; # æ€æ­»argsåŒ¹é…çš„è¿›ç¨‹

pgrep -P pid

# å†…æ ¸ä¹Ÿæœ‰ä¸€ä¸ªkillå‘½ä»¤
kill

killall
killall -e &lt;deamon&gt; # æ€æ­»åŒ¹é…çš„å®ˆæŠ¤è¿›ç¨‹.
</code></pre>
<p>crontab:</p>
<pre><code>$ sudo apt-get install cron
# /etc/crontab è®¾ç½®äº†ç¯å¢ƒå˜é‡
crontab
crontab -l # åˆ—å‡º
crontab -e # ç¼–è¾‘
crontab -u &lt;user&gt; file # å¯¼å…¥é…ç½®/etc/cron.d/my-cron-file
</code></pre>
<p>editor:</p>
<pre><code># ä¿®æ”¹é»˜è®¤ç¼–è¾‘å™¨nano
select-editor
</code></pre>
<p>æ—¶åŒºç®¡ç†</p>
<pre><code>timedatectl list-timezones # æŸ¥çœ‹æ‰€æœ‰æ—¶åŒº
sudo timedatectl set-timezone Asia/Shanghai # è®¾ç½®æ—¶åŒº
ls -l /etc/localtime # åº”è¯¥æ˜¯ä¸€ä¸ªé“¾æ¥
</code></pre>
<p>update-alternatives:</p>
<pre><code>update-alternatives --display python // æŸ¥çœ‹å€™é€‰é¡¹
update-alternatives --config python // é€‰æ‹©å€™é€‰é¡¹
update-alternatives --set python /usr/bin/python // æ·»åŠ å€™é€‰é¡¹
update-alternatives --install /usr/bin/python python /usr/bin/python3.7 1 // è®¾ç½®å€™é€‰é¡¹çš„link
update-alternatives --remove python /usr/bin/python3.5 // åˆ é™¤å€™é€‰é¡¹çš„link
</code></pre>
<h1 id="ç”¨æˆ·å’Œæƒé™ç®¡ç†">ç”¨æˆ·å’Œæƒé™ç®¡ç†</h1>
<pre><code>id
id -u æ‰“å°å½“å‰ç”¨æˆ·uid(root uid=0)
</code></pre>
<p>chmod:</p>
<pre><code># å½“æ–‡ä»¶çš„ownerçš„xä½ç½®ä¸ºs,è¡¨ç¤ºè®¾ç½®äº†SUID, ä»…å¯¹äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶æœ‰æ•ˆ.
# å¦‚æœæ‰§è¡Œè€…å¯¹è¯¥æ–‡ä»¶æœ‰å¯æ‰§è¡Œæƒé™ï¼Œé‚£ä¹ˆæ‰§è¡Œè€…åœ¨æ‰§è¡Œè¯¥æ–‡ä»¶æœŸé—´ï¼Œå°±æ‹¥æœ‰äº†è¯¥æ–‡ä»¶çš„ownerçš„æƒé™.
-rwsr-xr-x file
chmod u+s &lt;file&gt; # åŠ SUID
chmod 4777 &lt;file&gt;

-rwxr-sr-x file/dir
chmod g+s &lt;file&gt;/&lt;dir&gt; # åŠ SGID
chmod 2777 &lt;dir&gt;

drwxrwxrwt dir
chmod o+t &lt;dir&gt; # åŠ SBIT
chmod 1777 &lt;dir&gt;

chown
chgrp
chattr
</code></pre>
<p>usermod</p>
<pre><code># ç¦æ­¢rootç™»å½•
usermod --shell /sbin/nologin root
</code></pre>
<p>adduser:</p>
<pre><code>adduser 

addgroup
</code></pre>
<p>useradd:</p>
<pre><code>useradd
useradd -r -m -U -G sudo -s /bin/bash &lt;user&gt;
-U, --user-group      create a group with the same name as the user
-m, --create-home     create the user's home directory
-s, --shell SHELL     login shell of the new account
-r, --system          create a system account
-G, --groups GROUPS   list of supplementary groups of the new account

userdel

usermod
usermod -G g1,g2 -a user // å°†ç”¨æˆ·è¿½åŠ åˆ°ç»„

users # æŸ¥çœ‹å½“å‰ç™»é™†çš„ç”¨æˆ·

groupadd
groupdel
groupmod

groups # æŸ¥çœ‹æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç»„ï¼Œé»˜è®¤å½“å‰ç”¨æˆ·çš„ç»„
</code></pre>
<p>gpasswd:</p>
<pre><code>$ gpasswd -d &lt;user&gt; &lt;group&gt; // ä»ç»„é‡Œåˆ é™¤ç”¨æˆ·
</code></pre>
<p>chpasswd:</p>
<pre><code>echo &quot;username:password&quot; | chpasswd # ä¿®æ”¹usernameçš„å¯†ç 
</code></pre>
<p>passwd</p>
<pre><code>passwd
</code></pre>
<p>su:</p>
<pre><code>su &lt;user&gt; -c &lt;command&gt;
</code></pre>
<p>sudo:</p>
<pre><code>sudo -i
</code></pre>
<h1 id="æ–‡ä»¶å’Œç›®å½•ç®¡ç†">æ–‡ä»¶å’Œç›®å½•ç®¡ç†</h1>
<pre><code>mkdir
tree
cat
col
colrm
comm
csplit
ed
ex
fmt
fold
join
look
mtype
pico
sort
tr
expr
uniq
wc

cksum
cmp
diff
diffstat
file
cut
less
more
locate
lsattr
mattrib
mdel
mdir
mktemp
mmove
mren
mtools
mtoolstest
mv
od
paste
patch
rcp
rm
split

touch
umask
which
cp
whereis
mcopy
mshowfat
lprm
lpr
lpq
rev
toilet
aafire
xeyes
pv
yes
cal
factor
</code></pre>
<p>typeset</p>
<pre><code>typeset -u VAR // å˜é‡å¤§å†™
VAR='test'
echo $VAR # TEST

typeset -l VAR // å˜é‡å°å†™
</code></pre>
<p>tee</p>
<pre><code>main &gt; 2&gt;&amp;1 log1.log | tee log2.log # åŒæ—¶é‡å®šå‘åˆ°ä¸¤ä¸ªæ–‡ä»¶
main 2&gt;&amp;1 | tee ${LOG} # åŒæ—¶å°†stdoutå’Œstderrè¾“å‡ºåˆ°ç»ˆç«¯å’Œæ—¥å¿—æ–‡ä»¶.
$ echo &quot;content&quot; | sudo tee filename # å†™å…¥åˆ°rootæƒé™çš„æ–‡ä»¶
$ echo &quot;text&quot; | sudo tee -a filename # append
</code></pre>
<p>lsofæŸ¥çœ‹æ‰“å¼€çš„æ–‡ä»¶èµ„æº:</p>
<pre><code>lsof #
lsof -i # æŸ¥çœ‹
sudo lsof -i :port # æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«ä½¿ç”¨
</code></pre>
<p>readlink:</p>
<pre><code>readlink è·å–ç¬¦å·è¿æ¥ä¿¡æ¯
sudo readlink /proc/1/exe
</code></pre>
<p>ln:</p>
<pre><code>ln TARGET LINK_NAME # åˆ›å»ºæ–‡ä»¶çš„ç¡¬é“¾æ¥,ç›®å½•ä¸èƒ½åˆ›å»ºç¡¬é“¾æ¥
-s, --symbolic
ln -s TARGET LINK_NAME # åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•çš„è½¯é“¾æ¥
</code></pre>
<p>dirname:</p>
<pre><code>dirname
dirname $0   # è·å–å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç›¸å¯¹è·¯å¾„, ä¹Ÿå°±æ˜¯.
$(cd $(dirname $0) &amp;&amp; pwd)    # è·å–å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„
</code></pre>
<p>rsync:</p>
<pre><code>rsync
rsync [OPTION]... SRC [SRC]... DEST
rsync [OPTION]... SRC [SRC]... [USER@]HOST:DEST
rsync [OPTION]... [USER@]HOST:SRC [DEST]
rsync -rtvzuOPH --delete
-e &quot;ssh -o StrictHostKeyChecking=no&quot;
-v verbose
-a archive == -rlptgoD
-u --update # è·³è¿‡ç›®çš„åœ°å€ä¸Šmodification timeæ›´æ–°çš„æ–‡ä»¶
--inplace
--append
--append-verify
-r --recursive
-z --compress
--progress
--partial
-P == --partial --progress
--devices
--specials
-D == --devices --specials
-H --hard-links  preserve hard-link
-l --links  copy symlinks as symlinks ä¿ç•™è½¯é“¾æ¥
-L          copy symlinks to dest å¤åˆ¶åŸå§‹æ–‡ä»¶
--delete  ä»deståˆ é™¤srcæ²¡æœ‰çš„æ–‡ä»¶
-h --human-readable
-g --group  preserve group
-o --owner  preserve owner
-p --perms  preserve permissions
-t --times  preserve modification times
-O, --omit-dir-times    å¿½ç•¥ç›®å½•çš„modification times.
--exclude æ’é™¤æ–‡ä»¶
</code></pre>
<p>è®¡ç®—æ–‡ä»¶ç©ºé—´ä½¿ç”¨:</p>
<pre><code>du
$ du -sh
</code></pre>
<p>å››ä¸ªç”¨åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„é‡è¦å‘½ä»¤ï¼š</p>
<pre><code>sed
awk
grep/ack/ag
find
</code></pre>
<h1 id="å‹ç¼©å¤‡ä»½">å‹ç¼©å¤‡ä»½</h1>
<p>tar(.tar)</p>
<pre><code>tar
-c, --create   # åˆ›å»ºå½’æ¡£
-u, --update    # æ›´æ–°å½’æ¡£æ–‡ä»¶
-x, --extract, --get    # æå–å½’æ¡£

tar cvf name.tar folder
tar xvf name.tar

compression options:
-j, --bzip2
-J, --xz
-z, --gzip, --gunzip, --ungzip
-Z, --compress, --uncompress

device selection and switching:
-f, --file=ARCHIVE

informative output:
-v, --verbose
</code></pre>
<p>gzip(.gz)</p>
<pre><code>gzip
gunzip
tar zxvf file.tar.gz
tar zcvf file.tar.gz dir
</code></pre>
<p>bzip2(.bz2)</p>
<pre><code>bzip2
bunzip2
tar jxvf file.tar.bz2
tar jcvf file.tar.bz2 dir
</code></pre>
<p>compress(.z)</p>
<pre><code>compress
uncompress
tar Zxvf file.tar.z
</code></pre>
<p>xz(.xz)</p>
<pre><code>xz
unxz
tar Jxvf file.tar.xz
</code></pre>
<p>gzip/gunzip</p>
<pre><code>gunzip name.gz
gzip -d name.gz
</code></pre>
<p>zip(.zip)</p>
<pre><code>zip
unzip
</code></pre>
<p>7z(.7z)</p>
<pre><code>$ sudo apt-get install p7zip/p7zip-full/p7zip-rar
7z
</code></pre>
<h1 id="æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</h1>
<p>base64</p>
<pre><code>// ç”Ÿæˆbasic authentication.
echo -n &quot;user:pw&quot; | base64
</code></pre>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/shell/">Shell</a>
        
    </section>


    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css"integrity="sha256-J&#43;iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s="crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js"integrity="sha256-InsNdER1b2xUewP&#43;pKCUJpkhiqwHgqiPXDlIk7GzBu4="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js"integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI="crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>
    
</article>

    

    

     
    
        
    <div id="gitalk-container"></div>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"
/>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: "3d41a2a237fabe050cc0",
        clientSecret: "868aa81b294f1463ddb6edc007576ecfed7d2075",
        repo: "crazy-canux.github.io",
        owner: "crazy-canux",
        admin: ["crazy-canux"],
        distractionFreeMode: false, 
        id: md5(location.pathname), 
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>



    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2013 - 
        
        2025 Morgoth
    </section>
    
    <section class="powerby">
        
            Designed by Canux <br/>
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
