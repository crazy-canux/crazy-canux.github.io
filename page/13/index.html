<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="generator" content="Hugo 0.147.9">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morgoth - Morgoth</title>
    <meta name="description" content="">
    
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: #fff;
            padding: 1rem 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 2rem;
        }
        nav {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        nav a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
        }
        nav a:hover {
            color: #007acc;
        }
        .site-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #007acc;
        }
        main {
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .post-meta {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        .post-content h1, .post-content h2, .post-content h3 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .post-list {
            list-style: none;
            padding: 0;
        }
        .post-list li {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #eee;
        }
        .post-list h2 {
            margin: 0 0 0.5rem 0;
        }
        .post-list h2 a {
            text-decoration: none;
            color: #333;
        }
        .post-list h2 a:hover {
            color: #007acc;
        }
        footer {
            text-align: center;
            padding: 2rem 0;
            color: #666;
            border-top: 1px solid #ddd;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="https://canuxcheng.com/" class="site-title">Morgoth</a>
                
                    <a href="/">Home</a>
                
                    <a href="/about/">About</a>
                
                    <a href="/categories/">Categories</a>
                
                    <a href="/tags/">Tags</a>
                
                    <a href="/rtfm/">RTFM</a>
                
                    <a href="/samuel/">Samuel</a>
                
            </nav>
        </div>
    </header>
    
    <div class="container">
        <main>
            
<div class="home">
    <h1>Morgoth</h1>
    <p></p>
    
    <section class="recent-posts">
        <h2>Recent Posts</h2>
        <ul class="post-list">
            
                <li>
                    <h2><a href="https://canuxcheng.com/post/storage_command/">Command</a></h2>
                    <div class="post-meta">
                        <time>March 31, 2019</time>
                        
                            
                                <span class="category">Storage</span>
                            
                        
                    </div>
                    
                        <p><h1 id="sysstat">sysstat:</h1>
<pre><code># &lt;https://github.com/sysstat/sysstat&gt;
$ sudo apt-get install sysstat
# 包括 iostat/mpstat/pidstat/tapestat/cifsiostat

iostat -d -x -k 1 10

pidstat -d -p pid
</code></pre>
<h1 id="iotop">iotop</h1>
<pre><code># 查看进程的diskio
$ sudo apt-get install iotop
$ sudo iotop
</code></pre>
<h1 id="df">df</h1>
<p>df计算文件系统磁盘空间使用:</p>
<pre><code>df
$ df -h

# 查看目录信息(读写哪个设备)
$ df /path/folder
</code></pre>
<h1 id="dd">dd</h1>
<p>dd转化并拷贝文件:</p>
<pre><code>dd
</code></pre>
<h1 id="fsck">fsck</h1>
<p>fsck检查并修复文件系统:</p>
<pre><code>fsck
</code></pre>
<h1 id="fdisk">fdisk</h1>
<p>支持msdos，支持2T以下的磁盘.</p>
<p>fdisk管理磁盘分区表:</p>
<pre><code>fdisk
fdisk -l

fdisk /dev/sda # 可以创建新的磁盘分区
&gt; n ...    创建新的分区
&gt; t (8e表示linux LVM), 修改分区类型
&gt; w 保存修改
partprobe /dev/sda # 在不重启的情况下保存分区
</code></pre>
<h1 id="parted">parted</h1>
<p>支持gpt分区表，支持2T以上的大磁盘.</p></p>
                    
                </li>
            
                <li>
                    <h2><a href="https://canuxcheng.com/post/network_command/">Command</a></h2>
                    <div class="post-meta">
                        <time>March 31, 2019</time>
                        
                            
                                <span class="category">Network</span>
                            
                        
                    </div>
                    
                        <p><h1 id="network-command">network command</h1>
<p>network related command</p>
<hr>
<h2 id="net-tools">net-tools</h2>
<p><a href="https://github.com/ecki/net-tools">https://github.com/ecki/net-tools</a></p>
<pre><code>$ sudo apt-get install net-tools
</code></pre>
<h3 id="ifconfig">ifconfig</h3>
<pre><code>ifconfig # 查看up的interface
ifconfig -a  # 查看所有的interface
ifconfig &lt;bridge&gt;/&lt;interface&gt; up/down
</code></pre>
<h3 id="netstat">netstat</h3>
<pre><code>netstat
-a, --all, --listening # 显示所有socket, 默认只显示connected
-l, --listening  # 显示listening
-n, --numeric
-p, --programs # 显示pid或程序名称
# socket选项:
-t, --tcp
-u, --udp
-w, --raw
-x, --unix
--ax25
--ipx
--netrom

# 常用
netstat -anp    # 查看哪些端口是打开的．
sudo netstat -anp | grep port # 查看端口是否被使用
sudo netstat -tulnp # 查看tcp&amp;udp端口是否被监听
</code></pre>
<h3 id="arp">arp</h3>
<pre><code>arp # 用于确定IP地址的网卡物理地址
</code></pre>
<h3 id="rarp">rarp</h3>
<h3 id="hostname">hostname</h3>
<h3 id="domainname">domainname</h3>
<h3 id="dnsdomainname">dnsdomainname</h3>
<h3 id="route">route</h3>
<p>Flags:</p></p>
                    
                </li>
            
                <li>
                    <h2><a href="https://canuxcheng.com/post/linux_init/">Init</a></h2>
                    <div class="post-meta">
                        <time>February 3, 2019</time>
                        
                            
                                <span class="category">Linux</span>
                            
                        
                    </div>
                    
                        <p><h1 id="linux-init">Linux Init</h1>
<p>linux系统启动的第一个进程,pid=1的进程.</p>
<pre><code>$ ls -l /sbin/init
$ sudo readlink /sbin/init
/sbin/init -&gt; upstart
/sbin/init -&gt; /lib/systemd/systemd

/etc/init.d
The directory containing System V init scripts.
通过service命令操作

/etc/init
The directory containing upstart jobs.
通过initctl命令操作
</code></pre>
<hr>
<h1 id="systemd">systemd</h1>
<p>sytemd是upstart的替代版本．通过查看/sbin/init指向systemd还是upstart.</p>
<p>service文件位置:</p>
<pre><code>/etc/systemd/system/***.service
/lib/systemd/system/*.service
/usr/lib/systemd/system/*.service
</code></pre>
<p>service文件编写:</p>
<p><a href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html#">https://www.freedesktop.org/software/systemd/man/systemd.unit.html#</a></p>
<pre><code>[Unit]
Description=details
After=containerd.service # 之前启动
Before= # 之后运行
Bindsto= #
Wants=containerd.service # 弱依赖
Requires= # 强依赖
StartLimitInterval=10s
StartLimitBurst=5
</code></pre>
<p><a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#">https://www.freedesktop.org/software/systemd/man/systemd.service.html#</a></p>
<pre><code>[Service]
Type=simple/notify/dbus/forking/idle/oneshot
ExecStartPre=
ExecStart=
ExecStartPost=
ExecStop=
ExecStopPost=
ExecReload=
KillMode=node/mixed/process/control-group
Restart=no/on-success/on-failure/on-abnormal/on-abort/on-watchdog/always # always总是开机启动，即使systemctl enable.
RestartSec=3s # 重启之前等待的时间.
TimeoutSec=  # TimeoutStartSec+TimeoutStopSec
LimitNOFILE=49152 # 限制单个service的fd

[Install]
WantedBy=multi-user.target
</code></pre>
<p>systemctl命令:</p></p>
                    
                </li>
            
                <li>
                    <h2><a href="https://canuxcheng.com/post/nginx/">Nginx</a></h2>
                    <div class="post-meta">
                        <time>September 27, 2018</time>
                        
                            
                                <span class="category">Web</span>
                            
                        
                    </div>
                    
                        <p><h1 id="nginx">Nginx</h1>
<p>安装</p>
<p>配置</p>
<p>命令：</p>
<pre><code>nginx -s stop/quit/reload/reopen
nginx -V 详细信息
nginx -v 版本号
nginx -t 检查配置文件
</code></pre></p>
                    
                </li>
            
                <li>
                    <h2><a href="https://canuxcheng.com/post/sec_xss/">Xss</a></h2>
                    <div class="post-meta">
                        <time>July 28, 2018</time>
                        
                            
                                <span class="category">Security</span>
                            
                        
                    </div>
                    
                        <p><h1 id="xss">XSS</h1>
<p>XSS: Cross Site Scripting, 跨站脚本攻击</p>
<p>XSS攻击涉及到攻击者，客户端，和web应用三者.</p>
<p>XSS原理:</p>
<ul>
<li>Web应用未对用户提交请求的数据做充分的检查过滤,允许用户在提交的数据中掺入HTML代码(最主要的是“&gt;”、“&lt;”),并将未经转义的恶意代码输出到第三方用户的浏览器解释执行,是导致XSS漏洞的产生原因。</li>
</ul>
<p>XSS目前主要手段和目的:</p>
<ul>
<li>盗用cookie,获取敏感信息</li>
<li>利用植入flash，通过crossdomain权限设置获取更高权限．</li>
<li>利用iframe, frame, XMLHttpRequests等方式以用户身份执行一些管理操作．</li>
</ul>
<p>XSS预防:</p>
<ul>
<li>过滤特殊字符</li>
<li>使用http头指定类型</li>
</ul></p>
                    
                </li>
            
        </ul>
    </section>
    
    
        <a href="/page/12/">← Previous</a>
    
    
        <a href="/page/14/">Next →</a>
    
</div>

        </main>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Morgoth. Designed by Canux</p>
        </div>
    </footer>
</body>
</html>
