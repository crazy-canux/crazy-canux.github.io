<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Database on Morgoth</title>
    <link>https://canuxcheng.com/tags/database/</link>
    <description>Recent content in Database on Morgoth</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 01 Jan 2018 10:49:21 +0000</lastBuildDate>
    <atom:link href="https://canuxcheng.com/tags/database/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>GSL_database</title>
      <link>https://canuxcheng.com/post/gsl_database/</link>
      <pubDate>Mon, 01 Jan 2018 10:49:21 +0000</pubDate>
      <guid>https://canuxcheng.com/post/gsl_database/</guid>
      <description>&lt;h1 id=&#34;databasesql&#34;&gt;database/sql&lt;/h1&gt;&#xA;&lt;p&gt;使用该包，必须提供一个数据库驱动&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/golang/go/wiki/SQLDrivers&#34;&gt;https://github.com/golang/go/wiki/SQLDrivers&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;mssql driver:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/denisenkom/go-mssqldb&#34;&gt;https://github.com/denisenkom/go-mssqldb&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;mysql driver:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/go-sql-driver/mysql&#34;&gt;https://github.com/go-sql-driver/mysql&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;postgresql driver:&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/lib/pq&#34;&gt;https://github.com/lib/pq&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/jackc/pgx&#34;&gt;https://github.com/jackc/pgx&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;variables&#34;&gt;variables&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code&gt;// QueryRow 没有返回row时，调用返回值的Scan方法会返回该变量&#xA;var ErrNoRows = errors.New(&amp;quot;sql: no rows in result set&amp;quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;functions&#34;&gt;functions&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code&gt;// 注册并命名一个数据库，在Open中使用该命名启用该驱动&#xA;// 如果注册同一名称两次或者driver参数为nil, 会导致panic.&#xA;Register(name string, driver driver.Driver)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;db&#34;&gt;DB&lt;/h2&gt;&#xA;&lt;p&gt;DB是一个数据库句柄，代表一个具有零到多个底层连接的连接池．&lt;/p&gt;&#xA;&lt;p&gt;可以安全的被多个go程同时使用．&lt;/p&gt;&#xA;&lt;p&gt;struct:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;type DB struct {}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;functions:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;// 验证数据库驱动和参数,并不创建和数据库的连接．&#xA;// driverName: mssql, mysql, postgres&#xA;// mssql dataSourceName: &amp;quot;server=%s;port=%d;database=%s;user id=%s;password=%s&amp;quot;&#xA;// mysql dataSourceName: &amp;quot;user:password@tcp(server:port)/database&amp;quot;&#xA;Open(driverName, dataSourceName string) (*DB, error)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;methods:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
