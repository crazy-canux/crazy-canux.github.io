<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Esxi on Morgoth</title>
    <link>https://canuxcheng.com/tags/esxi/</link>
    <description>Recent content in Esxi on Morgoth</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 05 Apr 2016 21:47:54 +0000</lastBuildDate>
    <atom:link href="https://canuxcheng.com/tags/esxi/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Esxi</title>
      <link>https://canuxcheng.com/post/esxi/</link>
      <pubDate>Tue, 05 Apr 2016 21:47:54 +0000</pubDate>
      <guid>https://canuxcheng.com/post/esxi/</guid>
      <description>&lt;h1 id=&#34;vmware&#34;&gt;VMware&lt;/h1&gt;&#xA;&lt;p&gt;vSphere是vmware的虚拟化平台,包括ESXi和vSphere Client.&lt;/p&gt;&#xA;&lt;p&gt;vSphere Hypervisor(也叫ESXi)是vSphere的免费裸机hypervisor. 把物理机虚拟出多个虚拟机．&lt;/p&gt;&#xA;&lt;p&gt;vSphere client是vSphere的简单管理工具．只能管理一台ESXi物理机和上面的虚拟机．&lt;/p&gt;&#xA;&lt;p&gt;vCenter Server是vSphere的高级管理系统．需单独购买．&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h1 id=&#34;配置管理&#34;&gt;配置管理&lt;/h1&gt;&#xA;&lt;p&gt;开启虚拟机copy/paste功能：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# 通过vsphere client&#xA;edit properties -&amp;gt; Options -&amp;gt; Advanced -&amp;gt; General -&amp;gt; configuration Parameters&#xA;# isolation.tools.copy.disable    false&#xA;# isolation.tools.paste.disable    false&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;开启虚拟机的虚拟化功能：&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# 通过ssh到esxi服务器&#xA;$ vim /vmfs/volumes/datastore1/Ubuntu1604/Ubuntu1604.vmx&#xA;vhv.enable = &amp;quot;TRUE&amp;quot; # 添加到最后一行&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;创建的vm命名不能带小数点.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h1 id=&#34;命令&#34;&gt;命令&lt;/h1&gt;&#xA;&lt;p&gt;vim-cmd:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;vim-cmd vmsvc/getallvms # 获取所有虚拟机&#xA;vim-cmd vmsvc/reload&#xA;vim-cmd vmsvc/power.on vmid&#xA;vim-cmd vmsvc/power.shutdown vimid&#xA;vim-cmd vmsvc/power.off vimid&#xA;vim-cmd vmsvc/power.reboot vimid&#xA;&#xA;# power on all vms&#xA;for vm in `vim-cmd vmsvc/getallvms | awk &#39;{if (NR&amp;gt;1) {print $1}}&#39;`;&#xA;do&#xA;    echo &amp;quot;power on ${vm}...&amp;quot;;&#xA;    vim-cmd vmsvc/power.on ${vm}&#xA;done&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;esxcli:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
